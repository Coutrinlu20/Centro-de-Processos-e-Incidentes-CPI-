{% extends 'base.html' %}
{% block content %}
<div class="container py-4">

    <!-- Cabeçalho -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h3 class="fw-bold mb-1">{{ documento.titulo }}</h3>
            <p class="text-muted mb-0">Visualize os detalhes completos deste manual ou política interna.</p>
        </div>
        <a href="{% url 'documentos_list' %}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i> Voltar
        </a>
    </div>

    <!-- Corpo principal -->
    <div class="card border-0 shadow-sm rounded-4">
        <div class="card-body p-4">

            <!-- Categoria e Versão -->
            <div class="d-flex justify-content-between align-items-center mb-3">
                <span class="badge bg-primary-subtle text-primary px-3 py-2 fs-6">{{ documento.categoria }}</span>
                <span class="badge bg-secondary text-white px-3 py-2 fs-6">Versão {{ documento.versao }}</span>
            </div>

            <!-- Descrição -->
            <p class="text-secondary mb-4" style="white-space: pre-line;">{{ documento.descricao }}</p>

            <!-- Tags -->
            {% if documento.tags %}
            <div class="d-flex flex-wrap gap-2 mb-4">
                {% for tag in documento.tags.split(',') %}
                    <span class="badge rounded-pill bg-light text-dark border">{{ tag|trim }}</span>
                {% endfor %}
            </div>
            {% endif %}

            <!-- Informações adicionais -->
            <div class="row text-muted mb-4">
                <div class="col-md-4 mb-2">
                    <i class="bi bi-calendar-event"></i>
                    <strong>Data de criação:</strong> {{ documento.criado_em|date:"d/m/Y" }}
                </div>
                <div class="col-md-4 mb-2">
                    <i class="bi bi-person"></i>
                    <strong>Autor:</strong> {{ documento.autor|default:"—" }}
                </div>
                <div class="col-md-4 mb-2">
                    <i class="bi bi-eye"></i>
                    <strong>Visualizações:</strong> {{ documento.visualizacoes }}
                </div>
            </div>

            <!-- Ações -->
            <div class="d-flex gap-2">
                {% if documento.arquivo %}
                    <a href="{{ documento.arquivo.url }}" class="btn btn-primary" download>
                        <i class="bi bi-download"></i> Baixar Documento
                    </a>
                {% endif %}
                <a href="{% url 'documento_edit' documento.id %}" class="btn btn-outline-secondary">
                    <i class="bi bi-pencil"></i> Editar
                </a>
                <a href="{% url 'documento_delete' documento.id %}" class="btn btn-outline-danger"
                   onclick="return confirm('Deseja realmente excluir este documento?');">
                    <i class="bi bi-trash"></i> Excluir
                </a>
            </div>
        </div>
    </div>
</div>

<style>
    .bg-primary-subtle {
        background-color: #eaf2ff;
    }
    .badge {
        font-weight: 500;
    }
    .card {
        border-radius: 1rem;
        transition: all 0.2s ease-in-out;
    }
    .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    }
</style>
{% endblock %}
